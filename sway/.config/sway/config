set $mod Mod4
set $alt Mod1
set $left h
set $down j
set $up k
set $right l
set $term alacritty
# set $browser brave-browser --enable-features=UseOzonePlatform --ozone-platform=wayland 
# set $browser-icognito $browser --incognito
set $browser google-chrome --enable-features=UseOzonePlatform --ozone-platform=wayland 
set $browser-icognito $browser --incognito
# set $browser firefox
# set $browser-icognito firefox -private-window
set $menu ~/scripts/menu.sh
set $lock_bg /home/fcomoreira/pictures/Wallpapers/IMG_5458.JPG
set $wallpaper1 /home/fcomoreira/pictures/Wallpapers/max-suleimanov-dv-132.jpg
set $wallpaper2 /home/fcomoreira/pictures/Wallpapers/max-suleimanov-dv-132.jpg

### Output configuration
#
# Default wallpaper (more resolutions are available in /usr/share/backgrounds/sway/)
# output * bg /home/fcomoreira/pictures/Wallpapers/wallhaven-rddgwm_1920x1080.png stretch 
output eDP-1 bg $wallpaper1 stretch
output HDMI-A-1 bg $wallpaper2 stretch

output eDP-1 pos 0 0
output HDMI-A-1 subpixel rgb \
        res 1920x1080@74.906Hz \
        position 1920 0 \
        adaptive_sync on

exec swayidle \
		 timeout 720 'systemctl suspend'\
         before-sleep 'playerctl -a pause && swaylock -f -s stretch -i $lock_bg'\
         lock 'playerctl -a pause && swaylock -f -c 101010'


for_window [class="^.*"] inhibit_idle fullscreen
for_window [app_id="^.*"] inhibit_idle fullscreen

input "1267:12679:ELAN0672:00_04F3:3187_Touchpad" {
   dwt enabled
   tap enabled
   natural_scroll enabled
   middle_emulation enabled
}

input "type:keyboard" {
    xkb_layout us,br
    xkb_options grp:shift_toggle
}

bindsym $mod+Return exec $term -e fish
bindsym $mod+Shift+q kill
bindsym $mod+d exec $menu -run
bindsym $mod+w exec $menu -window
bindsym $mod+Shift+w exec /home/fcomoreira/scripts/wifimenu.sh

bindsym $mod+Shift+Return exec --no-startup-id alacritty -e fish -c wiki
bindsym $mod+i exec $browser 
bindsym $mod+Shift+i exec $browser-icognito 
bindsym $mod+n exec nautilus 
bindsym $mod+Escape exec $menu -power 

floating_modifier $mod normal


bindsym $mod+Shift+c reload
bindsym $mod+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -b 'Yes, exit sway' 'swaymsg exit'

# Dunst:
bindsym $alt+space exec dunstctl close
bindsym $alt+grave exec dunstctl history-pop
bindsym $alt+p exec dunstctl toggle

# Moving around:

# Move your focus around
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right

# Move the focused window with the same, but add Shift
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right

	
# Window Rules
for_window [class="Spotify"] move container to workspace 5
for_window [class="discord"] move container to workspace 6
for_window [class="zoom"]    move container to workspace 6
for_window [class="Wine"]    move container to workspace 8
for_window [app_id="lutris"] move container to workspace 8
for_window [app_id="xfce-polkit"] floating enable
for_window [app_id="Save File"] floating enable
for_window [app_id="pavucontrol"] floating enable
for_window [title="Firefox - Sharing Indicator"] floating enable
	
#
# Layout stuff:
#
bindsym $mod+b splith
bindsym $mod+v splitv

bindsym $mod+t layout tabbed
bindsym $mod+e layout toggle split

bindsym $mod+f fullscreen

bindsym $mod+space floating toggle

bindsym $mod+Shift+space focus mode_toggle

bindsym $mod+a focus parent
bindsym $mod+c focus child

bindsym $mod+Shift+s move scratchpad
bindsym $mod+s scratchpad show
#
# Resizing containers:
#
mode "Resize" {
    
    bindsym $left resize shrink width 10px
    bindsym $down resize grow height 10px
    bindsym $up resize shrink height 10px
    bindsym $right resize grow width 10px

    bindsym Left resize shrink width 10px
    bindsym Down resize grow height 10px
    bindsym Up resize shrink height 10px
    bindsym Right resize grow width 10px

    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+r mode "Resize"

mode "Media" {
    bindsym p exec ~/scripts/menu.sh -pause 
    bindsym Left exec playerctl previous
    bindsym Right exec playerctl next
    bindsym $left exec playerctl previous
    bindsym $right exec playerctl next
    bindsym $up exec playerctl next
    bindsym $down exec playerctl previous 
    bindsym Up exec ~/scripts/volume.sh -i
    bindsym Down exec ~/scripts/volume.sh -d
    bindsym plus exec ~/scripts/volume.sh -i
    bindsym minus exec ~/scripts/volume.sh -d
    bindsym equal exec ~/scripts/volume.sh -m

    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+m mode "Media"

mode "Courses" {
    bindsym a exec ~/scripts/courses.py -add
    bindsym t exec ~/scripts/courses.py -hmw
    bindsym x exec ~/scripts/courses.py -books

    bindsym Escape mode "default"
}
bindsym $mod+x mode "Courses"

# Media Keys

bindsym Print exec --no-startup-id /home/fcomoreira/scripts/screenshot.sh -s
bindcode 642   exec --no-startup-id /home/fcomoreira/scripts/screenshot.sh 
bindsym XF86AudioRaiseVolume exec /home/fcomoreira/scripts/volume.sh -i 
bindsym XF86AudioLowerVolume exec /home/fcomoreira/scripts/volume.sh -d
bindsym XF86AudioMute exec /home/fcomoreira/scripts/volume.sh -m
bindsym XF86AudioMicMute exec /home/fcomoreira/scripts/volume.sh -mic
bindsym XF86AudioNext exec /home/fcomoreira/scripts/volume.sh -n
bindsym XF86AudioPrev exec /home/fcomoreira/scripts/volume.sh -p
# bindsym XF86AudioMicMute exec /home/fcomoreira/scripts/volume.sh -mic
bindsym XF86MonBrightnessUp exec --no-startup-id light -A 10 
bindsym XF86MonBrightnessDown exec --no-startup-id light -U 10


font pango:Inter 11
default_border pixel 3
default_floating_border pixel 3 
floating_maximum_size -1 x -1
smart_gaps on
smart_borders on
gaps inner 3
gaps outer 3 

title_align center
titlebar_padding 3

focus_follows_mouse always
mouse_warping container

popup_during_fullscreen smart 

# Do on Startup

set $gnome-schema org.gnome.desktop.interface

exec_always {
    gsettings set $gnome-schema gtk-theme 'Adwaita-dark'
    gsettings set $gnome-schema icon-theme 'Papirus-Dark'
    gsettings set $gnome-schema cursor-theme 'Breeze_Snow'
    gsettings set $gnome-schema font-name 'Inter Medium 11'
    gsettings set org.gnome.desktop.default-applications.terminal exec $term
    gsettings set org.gnome.desktop.default-applications.terminal exec-arg -e
}

exec --no-startup-id light -N 10
exec --no-startup-id /usr/libexec/xfce-polkit
exec powerprofilesctl set power-saver

# Workspaces:

bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10

bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9
bindsym $mod+Shift+0 move container to workspace number 10

bindsym $mod+$alt+1 move container to workspace number 1, workspace number 1 
bindsym $mod+$alt+2 move container to workspace number 2, workspace number 2
bindsym $mod+$alt+3 move container to workspace number 3, workspace number 3
bindsym $mod+$alt+4 move container to workspace number 4, workspace number 4
bindsym $mod+$alt+5 move container to workspace number 5, workspace number 5
bindsym $mod+$alt+6 move container to workspace number 6, workspace number 6
bindsym $mod+$alt+7 move container to workspace number 7, workspace number 7
bindsym $mod+$alt+8 move container to workspace number 8, workspace number 8
bindsym $mod+$alt+9 move container to workspace number 9, workspace number 9
bindsym $mod+$alt+0 move container to workspace number 10, workspace number 10

bindsym $mod+Left move container to output left, output left
bindsym $mod+Right move container to output right, output right 

include ./colors
include /etc/sway/config.d/*
